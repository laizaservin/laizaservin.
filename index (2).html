def cadastrar_candidatos():
    candidatos = {}
    qtd = int(input("Quantos candidatos deseja cadastrar? "))
    
    for i in range(qtd):
        nome = input(f"Nome do candidato {i+1}: ")
        numero = int(input(f"N√∫mero do candidato {i+1}: "))
        while numero in candidatos:  # garante que n√£o ter√° n√∫mero repetido
            print("‚ö† N√∫mero j√° usado! Digite outro.")
            numero = int(input(f"N√∫mero do candidato {i+1}: "))
        candidatos[numero] = {"nome": nome, "votos": 0}
    return candidatos


def realizar_votacao(candidatos):
    qtd_eleitores = int(input("\nQuantos eleitores ir√£o votar? "))
    
    for i in range(qtd_eleitores):
        print(f"\n--- Eleitor {i+1} ---")
        print("Lista de candidatos:")
        for numero, dados in candidatos.items():
            print(f"{numero} - {dados['nome']}")
        
        voto = int(input("Digite o n√∫mero do candidato escolhido: "))
        while voto not in candidatos:
            print("‚ö† Voto inv√°lido! Digite um n√∫mero v√°lido da lista.")
            voto = int(input("Digite o n√∫mero do candidato escolhido: "))
        candidatos[voto]["votos"] += 1
    
    return qtd_eleitores


def mostrar_resultados(candidatos, total_votos):
    print("\n===== RESULTADOS =====")
    # Ordenar por quantidade de votos (maior para menor)
    ranking = sorted(candidatos.items(), key=lambda item: item[1]["votos"], reverse=True)
    
    for numero, dados in ranking:
        porcentagem = (dados["votos"] / total_votos) * 100
        print(f"{dados['nome']} ({numero}) - {dados['votos']} votos ({porcentagem:.2f}%)")
    
    # Identificar vencedor
    vencedor = ranking[0]
    print(f"\nüèÜ VENCEDOR: {vencedor[1]['nome']} ({vencedor[0]}) com {vencedor[1]['votos']} votos!")


def main():
    print("=== Sistema de Vota√ß√£o para S√≠ndico ===")
    candidatos = cadastrar_candidatos()
    total_votos = realizar_votacao(candidatos)
    mostrar_resultados(candidatos, total_votos)


if __name__ == "__main__":
    main()
